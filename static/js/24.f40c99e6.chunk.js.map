{"version":3,"sources":["views/admin/EstadisticasAmbiente.js"],"names":["EstadisticasAmbiente","props","state","usuario","url","UrlService","apiUrl","ambiente","total","diario","this","getDatosAmbientes","a","axios","get","then","response","setState","data","e","console","log","labels","Object","keys","opcionT","mantainAspectRatio","responsive","scales","y","ticks","stepSize","callback","value","index","values","x","padding","display","autoSkip","datasets","type","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","skipNull","className","options","map","aula","key","Component"],"mappings":"kQAIqBA,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,QAAS,GACTC,IAAKC,IAAWC,SAChBC,SAAU,CACRC,MAAO,GACPC,OAAQ,KAPK,E,qDAWnB,WACEC,KAAKC,sB,sEAEP,mCAAAC,EAAA,sDACMR,EAAMM,KAAKR,MAAME,IAAM,sBAC3B,IACES,IAAMC,IAAIV,GAAKW,MAAK,SAACC,GACnB,EAAKC,SAAS,CAAEV,SAAUS,EAASE,KAAKX,cAI5C,MAAOY,GAAKC,QAAQC,IAAIF,GAR1B,gD,0EAUA,WACE,IAAI,EAAoBT,KAAKR,MAAMK,SAA7BE,EAAN,EAAMA,OAAQD,EAAd,EAAcA,MACVc,EAASC,OAAOC,KAAKhB,GACnBiB,EAAU,CACdC,oBAAoB,EACpBC,YAAY,EACZC,OAAQ,CACNC,EAAG,CACDC,MAAO,CACLC,SAAU,EACVC,SAAU,SAAUC,EAAOC,EAAOC,GAChC,OAAOF,EAAQ,WAIrBG,EAAG,CACDN,MAAO,CACLO,QAAS,EACTC,QAAS,OAAQC,UAAU,EAC3BP,SAAU,SAAUC,EAAOC,EAAOC,GAEhC,MAAsB,WAAlBb,EAAOW,GAEF,GAGAX,EAAOW,QAUpBf,EAAO,CACXI,OAAQA,EACRkB,SAAU,CAAC,CACTC,KAAM,MACNC,MAAO,YACPC,gBAAiB,UACjBC,YAAa,QACbC,YAAa,EACbC,qBAAsB,oBACtBC,iBAAkB,QAClB7B,KAAMV,EACNwC,UAAU,KAId,OACE,yBAAKC,UAAU,UACb,yBAAKA,UAAU,mBAAf,oBACA,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAAK/B,KAAMA,EAAMgC,QAASzB,KAG5B,yBAAKwB,UAAU,eACb,yBAAKA,UAAU,mBAAf,+BACC1B,OAAOC,KAAKf,GAAQ0C,KAAI,SAACC,GAAD,OACvB,yBAAKH,UAAU,cAAcI,IAAKD,GAEhC,yBAAKH,UAAU,iBACb,kBAAC,IAAD,CAAK/B,KAAM,CACTI,OAAQC,OAAOC,KAAKf,EAAO2C,IAE3BZ,SAAU,CAAC,CACTE,MAAOU,EACPT,gBAAiB,UACjBC,YAAa,QACb1B,KAAMT,EAAO2C,MAEdF,QAAS,CACVxB,oBAAoB,EACpBC,YAAY,EACZC,OAAQ,CACNC,EAAG,CACDC,MAAO,CACLE,SAAU,SAAUC,EAAOC,EAAOC,GAChC,OAAOF,EAAQ,SAIrBG,EAAG,CACDN,MAAO,CACLQ,QAAS,OAAQC,UAAU,EAC3BP,SAAU,SAAUC,EAAOC,EAAOC,GAEhC,GAAsB,WAAlBb,EAAOW,GAIT,MALS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,QAKjCC,qB,GAtHUoB","file":"static/js/24.f40c99e6.chunk.js","sourcesContent":["import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport UrlService from \"../../services/UrlService\";\nexport default class EstadisticasAmbiente extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      usuario: \"\",\n      url: UrlService.apiUrl(),\n      ambiente: {\n        total: {},\n        diario: {}\n      }\n    };\n  }\n  componentDidMount() {\n    this.getDatosAmbientes();\n  }\n  async getDatosAmbientes() {\n    var url = this.state.url + 'datos?tipo=ambiente'\n    try {\n      axios.get(url).then((response) => {\n        this.setState({ ambiente: response.data.ambiente })\n        // console.log(response.data.ambiente)\n      })\n    }\n    catch (e) { console.log(e) }\n  }\n  render() {\n    var { diario, total } = this.state.ambiente;\n    var labels = Object.keys(total)\n    const opcionT = {\n      mantainAspectRatio: false,\n      responsive: true,\n      scales: {\n        y: {\n          ticks: {\n            stepSize: 6,\n            callback: function (value, index, values) {\n              return value + ' hrs.';\n            }\n          }\n        },\n        x: {\n          ticks: {\n            padding: 1,\n            display: \"auto\", autoSkip: true,\n            callback: function (value, index, values) {\n              // var id = values\n              if (labels[value] === \"length\") {\n                // this.display = true\n                return \"\";\n              }\n              else {\n                return labels[value];\n              }\n            }\n\n          }\n        }\n      }\n    }\n\n\n    const data = {\n      labels: labels,\n      datasets: [{\n        type: 'bar',\n        label: \"Uso total\",\n        backgroundColor: '#40826d',\n        borderColor: 'black',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(0,255,0,0.2)',\n        hoverBorderColor: 'white',\n        data: total,\n        skipNull: true\n      }]\n    }\n\n    return (\n      <div className=\"cuadro\" >\n        <div className=\"tarjetas-titulo\">Uso de ambientes</div>\n        <div className=\"diagrama\">\n          <Bar data={data} options={opcionT} />\n        </div>\n\n        <div className=\"tarjeta-big\">\n          <div className=\"tarjetas-titulo\">Uso de Ambientes por d√≠a</div>\n          {Object.keys(diario).map((aula) => (\n            <div className=\"tarjeta-big\" key={aula}>\n              {/* <div className=\"tarjetas-titulo\">{aula}</div> */}\n              <div className=\"tarjeta-peque\">\n                <Bar data={{\n                  labels: Object.keys(diario[aula]),\n                  // labels:[\"Lun\",\"Ma\",\"mi\",\"J\",\"V\"],\n                  datasets: [{\n                    label: aula,\n                    backgroundColor: \"#add8e6\",\n                    borderColor: 'black',\n                    data: diario[aula]\n                  }]\n                }} options={{\n                  mantainAspectRatio: false,\n                  responsive: true,\n                  scales: {\n                    y: {\n                      ticks: {\n                        callback: function (value, index, values) {\n                          return value + ' h.';\n                        }\n                      }\n                    },\n                    x: {\n                      ticks: {\n                        display: \"auto\", autoSkip: true,\n                        callback: function (value, index, values) {\n                          var dias = [\"Lun\", \"Mar\", \"Mie\", \"Jue\", \"Vie\", \"Sab.\"]\n                          if (labels[value] === \"length\") {\n                            \n                          }\n                          else {\n                            return dias[index];\n                          }\n                        }\n                      }\n                    }\n                  }\n                }} />\n              </div>\n\n            </div>\n          ))}\n        </div>\n\n      </div >\n    );\n  }\n}\n"],"sourceRoot":""}